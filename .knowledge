{"type":"entity","name":"Principal CRM Transformation","entityType":"Business Requirement","observations":["Transform from general-purpose CRM to Principal-focused contact advocacy system","Contact-centric approach with advocacy tracking","Organization Principal/Distributor designation","Auto-opportunity naming for multiple Principals","7-point sales funnel implementation","Critical priority MVP transformation","Feature Requirements Definition completed and documented","100% specification compliance required for technical validation","95%+ business value delivery target established","4-6 week implementation timeline with staged approach","Ready for Stage 1 Database Schema Analysis & Implementation"],"createdAt":"2025-08-15T05:03:06.957Z","version":1}
{"type":"entity","name":"Contact Advocacy System","entityType":"Core Feature","observations":["Contacts become tracked advocates for specific Principal products","Purchase influence tracking (High/Medium/Low/Unknown)","Decision authority tracking (Decision Maker/Influencer/End User/Gatekeeper)","Principal product preferences tracked per contact","Primary entry point for CRM workflows"],"createdAt":"2025-08-15T05:03:06.958Z","version":1}
{"type":"entity","name":"Auto-Opportunity Naming","entityType":"Business Logic","observations":["Pattern: [Organization] - [Principal] - [Context] - [Month Year]","Multiple Principals create separate opportunities","Auto-generation toggle functionality","Preview display for multiple opportunity creation","Context-driven naming (Site Visit, Food Show, etc.)"],"createdAt":"2025-08-15T05:03:06.958Z","version":1}
{"type":"entity","name":"7-Point Sales Funnel","entityType":"Process Workflow","observations":["New Lead → Initial Outreach → Sample/Visit Offered → Awaiting Response → Feedback Logged → Demo Scheduled → Closed - Won","Replaces current opportunity stage system","Required progression tracking","Stage-specific business logic"],"createdAt":"2025-08-15T05:03:06.958Z","version":1}
{"type":"entity","name":"Database Integration Validation Project","entityType":"project","observations":["4-phase comprehensive validation project for Kitchen Pantry CRM","Duration: August 2025","Status: Completed with 88% production readiness","Scope: 5 core CRM entities validation","Key Achievement: Automated testing framework implementation","Business Impact: Enhanced data integrity and developer productivity"],"createdAt":"2025-08-16T14:58:45.257Z","version":1}
{"type":"entity","name":"Schema Validation Framework","entityType":"technical_system","observations":["Comprehensive database schema validation system","Technologies: Vitest, Supabase, PostgreSQL","Coverage: 100% of tables, enums, relationships, RLS policies","Features: Automated drift detection, constraint validation","Implementation: src/test/database/schema-validation.test.ts","Maintenance: Daily automated health checks"],"createdAt":"2025-08-16T14:58:45.258Z","version":1}
{"type":"entity","name":"Critical Production Issues","entityType":"issue_category","observations":["4 critical issues identified requiring immediate attention","Issue 1: Sign-up form validation not displaying (HIGH PRIORITY)","Issue 2: Products form component crash (HIGH PRIORITY)","Issue 3: Opportunity creation business rule mismatch (MEDIUM PRIORITY)","Issue 4: Error boundary coverage gaps (MEDIUM PRIORITY)","Total estimated fix time: 8-12 hours"],"createdAt":"2025-08-16T14:58:45.258Z","version":1}
{"type":"entity","name":"Form Error Boundary System","entityType":"technical_component","observations":["React error boundary implementation for form crash protection","Implementation: FormErrorBoundary class component","Current coverage: Only ContactForm protected","Required expansion: All 5 CRM entity forms","Features: Graceful error handling, retry mechanisms, error reporting","Location: src/components/ui/form-error-boundary.tsx"],"createdAt":"2025-08-16T14:58:45.258Z","version":1}
{"type":"entity","name":"Database Testing Automation","entityType":"testing_framework","observations":["Comprehensive automated testing suite for database integration","Test categories: Schema validation, CRUD operations, constraint validation, form integration","CI/CD integration: GitHub Actions with daily health checks","Performance: Tests complete under 2 minutes","Coverage: 100% of database operations and constraints","Regression prevention: Addresses all Phase 1-3 issues"],"createdAt":"2025-08-16T14:58:45.258Z","version":1}
{"type":"entity","name":"Sign-up Form Validation Issue","entityType":"critical_issue","observations":["HIGH PRIORITY production blocker","Location: src/components/auth/SignUpForm.tsx","Problem: Validation errors exist but don't display to users","Root cause: Early returns prevent form validation display","Estimated fix time: 2-4 hours","Impact: Users can submit invalid data without feedback","Solution: Replace manual validation with form.trigger() approach"],"createdAt":"2025-08-16T14:59:11.298Z","version":1}
{"type":"entity","name":"Products Form Crash Issue","entityType":"critical_issue","observations":["HIGH PRIORITY production blocker","Location: src/components/products/ProductForm.tsx","Problem: TypeError causing form submission failures","Root cause: Missing error boundary and null safety","Estimated fix time: 1-2 hours","Impact: Products cannot be created or edited","Solution: Add FormErrorBoundary wrapper and null safety checks"],"createdAt":"2025-08-16T14:59:11.298Z","version":1}
{"type":"entity","name":"Opportunity Business Rule Mismatch","entityType":"critical_issue","observations":["MEDIUM PRIORITY workflow issue","Location: Database triggers and TypeScript enum alignment","Problem: Business rule enum mismatch affecting opportunity workflow","Root cause: Database trigger enum values don't match TypeScript types","Estimated fix time: 3-5 hours","Impact: Opportunity creation may fail with specific configurations","Solution: Update database trigger to match TypeScript enums"],"createdAt":"2025-08-16T14:59:11.298Z","version":1}
{"type":"entity","name":"Error Boundary Coverage Gap","entityType":"critical_issue","observations":["MEDIUM PRIORITY system stability issue","Location: Multiple form components","Problem: Inconsistent FormErrorBoundary implementation","Root cause: Only ContactForm has error boundary protection","Estimated fix time: 2-3 hours","Impact: Component crashes can break user workflows","Solution: Apply error boundaries systematically to all forms"],"createdAt":"2025-08-16T14:59:11.298Z","version":1}
{"type":"entity","name":"Enhanced Form Validation System","entityType":"solution_framework","observations":["Comprehensive form validation architecture implementation","Components: useEnhancedForm hook, FormErrorBoundary, FormValidationSummary","Features: Auto-save, retry mechanisms, error recovery","Technology stack: React Hook Form, Yup validation, React Query","Performance: Debounced validation, optimistic updates","Testing: Comprehensive form integration test coverage"],"createdAt":"2025-08-16T14:59:11.298Z","version":1}
{"type":"relation","from":"Principal CRM Transformation","to":"Contact Advocacy System","relationType":"requires","createdAt":"2025-08-15T05:03:22.493Z","version":1}
{"type":"relation","from":"Principal CRM Transformation","to":"Auto-Opportunity Naming","relationType":"requires","createdAt":"2025-08-15T05:03:22.493Z","version":1}
{"type":"relation","from":"Principal CRM Transformation","to":"7-Point Sales Funnel","relationType":"requires","createdAt":"2025-08-15T05:03:22.493Z","version":1}
{"type":"relation","from":"Contact Advocacy System","to":"Auto-Opportunity Naming","relationType":"enables","createdAt":"2025-08-15T05:03:22.493Z","version":1}
{"type":"relation","from":"Auto-Opportunity Naming","to":"7-Point Sales Funnel","relationType":"integrates_with","createdAt":"2025-08-15T05:03:22.493Z","version":1}
{"type":"relation","from":"Database Integration Validation Project","to":"Schema Validation Framework","relationType":"implements","createdAt":"2025-08-16T14:58:55.284Z","version":1}
{"type":"relation","from":"Database Integration Validation Project","to":"Critical Production Issues","relationType":"identifies","createdAt":"2025-08-16T14:58:55.284Z","version":1}
{"type":"relation","from":"Database Integration Validation Project","to":"Database Testing Automation","relationType":"delivers","createdAt":"2025-08-16T14:58:55.284Z","version":1}
{"type":"relation","from":"Schema Validation Framework","to":"Database Testing Automation","relationType":"integrates_with","createdAt":"2025-08-16T14:58:55.284Z","version":1}
{"type":"relation","from":"Critical Production Issues","to":"Form Error Boundary System","relationType":"requires_enhancement","createdAt":"2025-08-16T14:58:55.284Z","version":1}
{"type":"relation","from":"Form Error Boundary System","to":"Database Testing Automation","relationType":"tested_by","createdAt":"2025-08-16T14:58:55.284Z","version":1}
{"type":"relation","from":"Database Integration Validation Project","to":"Form Error Boundary System","relationType":"evaluates","createdAt":"2025-08-16T14:58:55.284Z","version":1}
{"type":"relation","from":"Critical Production Issues","to":"Schema Validation Framework","relationType":"prevented_by","createdAt":"2025-08-16T14:58:55.284Z","version":1}
{"type":"relation","from":"Critical Production Issues","to":"Sign-up Form Validation Issue","relationType":"contains","createdAt":"2025-08-16T14:59:21.916Z","version":1}
{"type":"relation","from":"Critical Production Issues","to":"Products Form Crash Issue","relationType":"contains","createdAt":"2025-08-16T14:59:21.916Z","version":1}
{"type":"relation","from":"Critical Production Issues","to":"Opportunity Business Rule Mismatch","relationType":"contains","createdAt":"2025-08-16T14:59:21.916Z","version":1}
{"type":"relation","from":"Critical Production Issues","to":"Error Boundary Coverage Gap","relationType":"contains","createdAt":"2025-08-16T14:59:21.916Z","version":1}
{"type":"relation","from":"Enhanced Form Validation System","to":"Sign-up Form Validation Issue","relationType":"resolves","createdAt":"2025-08-16T14:59:21.916Z","version":1}
{"type":"relation","from":"Enhanced Form Validation System","to":"Products Form Crash Issue","relationType":"resolves","createdAt":"2025-08-16T14:59:21.916Z","version":1}
{"type":"relation","from":"Enhanced Form Validation System","to":"Error Boundary Coverage Gap","relationType":"resolves","createdAt":"2025-08-16T14:59:21.916Z","version":1}
{"type":"relation","from":"Form Error Boundary System","to":"Products Form Crash Issue","relationType":"prevents","createdAt":"2025-08-16T14:59:21.916Z","version":1}
{"type":"relation","from":"Form Error Boundary System","to":"Error Boundary Coverage Gap","relationType":"addresses","createdAt":"2025-08-16T14:59:21.916Z","version":1}
{"type":"relation","from":"Schema Validation Framework","to":"Opportunity Business Rule Mismatch","relationType":"detects","createdAt":"2025-08-16T14:59:21.916Z","version":1}
{"type":"relation","from":"Database Testing Automation","to":"Sign-up Form Validation Issue","relationType":"validates_fix","createdAt":"2025-08-16T14:59:21.916Z","version":1}
{"type":"relation","from":"Database Testing Automation","to":"Products Form Crash Issue","relationType":"validates_fix","createdAt":"2025-08-16T14:59:21.916Z","version":1}
{"type":"relation","from":"Database Testing Automation","to":"Enhanced Form Validation System","relationType":"tests","createdAt":"2025-08-16T14:59:21.916Z","version":1}